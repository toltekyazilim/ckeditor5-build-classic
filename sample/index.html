<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>CKEditor 5 – classic editor build – development sample</title>
	<style>
		body {
			max-width: 800px;
			margin: 20px auto;
		}
	</style>
</head>
<body>

	<h1>CKEditor 5 – classic editor build – development sample</h1>

	<div id="editor">
		<h2>Sample</h2>

		<p>This is an instance of the <a href="https://docs.ckeditor.com/ckeditor5/latest/builds/guides/overview.html#classic-editor">classic editor build</a>.</p>

		<figure class="image">
			<img src="../tests/manual/sample.jpg" alt="Autumn fields" />
		</figure>

		<p>You can use this sample to validate whether your <a href="https://docs.ckeditor.com/ckeditor5/latest/builds/guides/development/custom-builds.html">custom build</a> works fine.</p>
	</div>
	<script type="text/javascript" src="http://cdn.toltek.com.tr/Content/University/javascript/jquery.min.js"></script>
	<script>


		function ImageBrowser(editor) {
			console.log(editor.model.element);
			PopWindowCenter('http://local.oys.erzincan.edu.tr/Portal/Page/ImageBrowser', 'Editor', 800, 600);

			//const imageUrl = prompt('Image URL');
			//const imageElement = new ModelElement('image', {
			// src: imageUrl
			//});
			//editor.model.insertContent(imageElement, editor.model.document.selection);


		}
	</script>

	<script src="../build/ckeditor.js"></script>
	<script>
		let PEdit;
		ClassicEditor.create(document.querySelector('#editor'),
			{
				autosave: {
					save(editor) {
						return saveData(editor.getData());
					}
				},
				ImageBrowser: {
					browserUrl: "http://local.oys.erzincan.edu.tr/Manager/Page/ImageBrowser?Editor=editor"
				},
				simpleUpload: {
					uploadUrl: 'http://local.oys.erzincan.edu.tr/Portal/Page/ImageUpload',
					headers: { 'x-header': 'myhead' }
				}
			}
		)
			.then(editor => {
				PEdit = editor;
			})
			.catch(err => {
				console.error(err.stack);
			});
		function saveData(d) {
			//alert(d);
		}
		function ImageSelected(id, url) {
			alert(url);
			const imageElement = new ModelElement('image', {
				src: url
			}); 
			editor.model.insertContent(imageElement, editor.model.document.selection);
				
		}
	</script>


</body>
</html>
